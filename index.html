<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>スライドデモ（最終安定版）</title>
<style>
  body {
    margin: 0;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background-color: black;
  }

  .slide {
    position: relative;
    width: 100%;
    height: 100%;
    display: none;
  }

  .slide img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  /* ✅ ボタンを固定配置（常に画面下に見える） */
  .controls {
    position: fixed;
    bottom: 20px;          /* ← 画面下から20px上（見やすく押しやすい） */
    left: 0;
    width: 100%;
    display: flex;
    justify-content: center;
    gap: 20px;
    z-index: 100;
  }

  button {
    background-color: rgba(255,255,255,0.7);
    border: none;
    padding: 10px 20px;
    border-radius: 10px;
    cursor: pointer;
    font-size: 16px;
    transition: 0.3s;
  }

  button:hover {
    background-color: rgba(255,255,255,0.9);
  }

  video {
    width: 80%;
    max-width: 800px;
    border-radius: 12px;
    margin-top: 20px;
  }

  @media (max-width: 600px) {
 video {
  width: 80%;
  max-width: 800px;
  border-radius: 12px;
  margin-top: 20px;
  z-index: 50;           /* ✅ ボタンより手前に来るように設定 */
  position: relative;    /* ✅ レイヤー制御の基準を明示 */
  display: block;        /* ✅ 中央揃え安定 */
  margin-left: auto;     /* ✅ 横中央に配置 */
  margin-right: auto;
}

  }
</style>

</head>
<body>
  <div id="slides"></div>

  <script>
    const slidesData = [
      { image: "s1.JPG" },
      { image: "s2.JPG" },
      { image: "s3.JPG" },
      { image: "s4.JPG" },
      { image: "s5.jpg", video: "m1.mp4" },
      { image: "s6.jpg" },
      { image: "s7.jpg", end: true }
    ];

    let currentSlide = 0;

    function showSlide(index) {
      const slidesContainer = document.getElementById("slides");
      slidesContainer.innerHTML = "";

      const slideData = slidesData[index];
      if (!slideData) return;

      const slide = document.createElement("div");
      slide.className = "slide";

      const img = document.createElement("img");
      img.src = slideData.image;
      slide.appendChild(img);

      const controls = document.createElement("div");
      controls.className = "controls";

      if (index > 0) {
        const backBtn = document.createElement("button");
        backBtn.textContent = "前へ";
        backBtn.onclick = () => showSlide(index - 1);
        controls.appendChild(backBtn);
      }

      if (slideData.video) {
        const videoBtn = document.createElement("button");
        videoBtn.textContent = "動画再生";
        videoBtn.onclick = () => {
          const video = document.createElement("video");
          video.src = slideData.video;
          video.controls = true;
          video.autoplay = true;
          slide.appendChild(video);
          videoBtn.disabled = true;
        };
        controls.appendChild(videoBtn);
      }

      if (!slideData.end && index < slidesData.length - 1) {
        const nextBtn = document.createElement("button");
        nextBtn.textContent = "次へ";
        nextBtn.onclick = () => showSlide(index + 1);
        controls.appendChild(nextBtn);
      }

      if (slideData.end) {
        const restartBtn = document.createElement("button");
        restartBtn.textContent = "最初に戻る";
        restartBtn.onclick = () => showSlide(0);
        controls.appendChild(restartBtn);
      }

      slide.appendChild(controls);
      slidesContainer.appendChild(slide);
      slide.style.display = "block";
    }

    // ✅ ページ全体が完全に読み込まれた後に起動
    window.onload = () => {
      showSlide(0);
    };
  </script>
</body>
</html>











