<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>スライドデモ（MP4動画対応版）</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background-color: black;
    }

    .slide {
      position: relative;
      width: 100%;
      height: 100%;
      display: none;
    }

    .slide img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .controls {
      position: absolute;
      bottom: 5%;
      width: 100%;
      display: flex;
      justify-content: center;
      gap: 20px;
    }

    button {
      background-color: rgba(255,255,255,0.7);
      border: none;
      padding: 10px 20px;
      border-radius: 10px;
      cursor: pointer;
      font-size: 16px;
      transition: 0.3s;
    }

    button:hover {
      background-color: rgba(255,255,255,0.9);
    }

    video {
      width: 80%;
      max-width: 800px;
      border-radius: 12px;
      margin-top: 20px;
    }

    @media (max-width: 600px) {
      video {
        width: 90%;
      }
      button {
        font-size: 14px;
        padding: 8px 16px;
      }
    }
  </style>
</head>
<body>
  <div id="slides"></div>

 <script>
  const slidesData = [
    { image: "s1.JPG" },
    { image: "s2.JPG" },
    { image: "s3.JPG" },
    { image: "s4.JPG" },
    { image: "s5.jpg", video: "m1.mp4" },
    { image: "s6.jpg" },
    { image: "s7.jpg", end: true }
  ];

  function showSlide(index) {
    const slidesContainer = document.getElementById("slides");
    slidesContainer.innerHTML = "";

    const slideData = slidesData[index];
    if (!slideData) return;

    const slide = document.createElement("div");
    slide.className = "slide";

    // 背景画像
    const img = document.createElement("img");
    img.src = slideData.image;
    slide.appendChild(img);

    // コントロールボタン
    const controls = document.createElement("div");
    controls.className = "controls";

    // 前へ
    if (index > 0) {
      const backBtn = document.createElement("button");
      backBtn.textContent = "前へ";
      backBtn.onclick = () => showSlide(index - 1);
      controls.appendChild(backBtn);
    }

    // 動画再生
    if (slideData.video) {
      const videoBtn = document.createElement("button");
      videoBtn.textContent = "動画再生";
      videoBtn.onclick = () => {
        const video = document.createElement("video");
        video.src = slideData.video;
        video.controls = true;
        video.autoplay = true;
        slide.appendChild(video);
        videoBtn.disabled = true;
      };
      controls.appendChild(videoBtn);
    }

    // 次へ
    if (!slideData.end && index < slidesData.length - 1) {
      const nextBtn = document.createElement("button");
      nextBtn.textContent = "次へ";
      nextBtn.onclick = () => showSlide(index + 1);
      controls.appendChild(nextBtn);
    }

    // 終了スライド
    if (slideData.end) {
      const restartBtn = document.createElement("button");
      restartBtn.textContent = "最初に戻る";
      restartBtn.onclick = () => showSlide(0);
      controls.appendChild(restartBtn);
    }

    slide.appendChild(controls);
    slidesContainer.appendChild(slide);
    slide.style.display = "block";
  }

  // ✅ ページが完全に読み込まれたあとに起動
  document.addEventListener("DOMContentLoaded", () => {
    showSlide(0);
  });
</script>

</body>
</html>







